"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function templateProvider(a){return a.query()}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var clog=function(){console.log(arguments)};angular.module("wellnessPlanApp",["wellnessPlanApp.auth","wellnessPlanApp.admin","wellnessPlanApp.constants","ngCookies","ngResource","ngSanitize","ui.router","ui.bootstrap","ngAnimate","validation.match","angularMoment","textAngular"]).config(["$urlRouterProvider","$locationProvider",function(a,b){a.otherwise("/login"),b.html5Mode(!0)}]),angular.module("wellnessPlanApp.admin",["wellnessPlanApp.auth","ui.router"]),angular.module("wellnessPlanApp.auth",["wellnessPlanApp.constants","wellnessPlanApp.util","ngCookies","ui.router"]).config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}]),angular.module("wellnessPlanApp.util",[]),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/templates/:id",{id:"@_id"},{update:{method:"PUT"},latest:{method:"GET",url:"/api/templates/latest",isArray:!0}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("Template",a)}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ProfileController=function(){function a(b,c,d,e,f,g,h){_classCallCheck(this,a),this.errors={},this.submitted=!1,this.$state=d,this.Auth=b,this.User=e,this.Pharmacy=f,this.Network=g,this.Store=h,this.user=b.getCurrentUser(),this.newPharmacy={},this.newStore={},this.newNetwork={},c.pageTitle="My Profile"}return a.$inject=["Auth","$scope","$state","User","Pharmacy","Network","Store"],_createClass(a,[{key:"changePassword",value:function(a){var b=this;b.submitted=!0,a.$valid?b.Auth.changePassword(b.user.oldPassword,b.user.newPassword).then(function(){b.message="Password successfully changed."})["catch"](function(){a.password.$setValidity("mongoose",!1),b.errors.other="Incorrect password",b.message=""}):(a.password.$setValidity("mongoose",!1),b.errors.other="Incorrect password",b.message="")}},{key:"updateInfo",value:function(a){var b=this;clog(a),b.submitted=!0,b.Auth.updateInfo(b.user).then(function(){})["catch"](function(a){console.log(a)})}},{key:"addPharmacy",value:function(a){var b=this,c=new this.Pharmacy(a);c.$save(function(a){b.user.pharmacies.push(a),b.updateInfo(),b.newPharmacy={}})}},{key:"removePharmacy",value:function(a){var b=this,c=this.user.pharmacies.indexOf(a);this.user.pharmacies.splice(c,1);this.Pharmacy.get({id:a._id},function(a){a.$delete(function(){b.updateInfo()})})}},{key:"addStore",value:function(a){var b=this,c=new this.Store(a);c.$save(function(a){b.user.stores.push(a),b.updateInfo(),b.newStore={}})}},{key:"removeStore",value:function(a){var b=this,c=this.user.stores.indexOf(a);this.user.stores.splice(c,1);this.Store.get({id:a._id},function(a){a.$delete(function(){b.updateInfo()})})}},{key:"addNetwork",value:function(a){var b=this,c=new this.Network(a);c.$save(function(a){b.user.networks.push(a),b.updateInfo(),b.newNetwork={}})}},{key:"removeNetwork",value:function(a){var b=this,c=this.user.networks.indexOf(a);this.user.networks.splice(c,1);this.Network.get({id:a._id},function(a){a.$delete(function(){b.updateInfo()})})}}]),a}();angular.module("wellnessPlanApp").controller("ProfileController",ProfileController),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/stores/:id",{id:"@_id"},{update:{method:"PUT"}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("Store",a)}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SignupController=function(){function a(b,c){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.$state=c}return a.$inject=["Auth","$state"],_createClass(a,[{key:"register",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.createUser({name:this.user.name,email:this.user.email,password:this.user.password}).then(function(){b.$state.go("users")})["catch"](function(c){c=c.data,b.errors={},angular.forEach(c.errors,function(c,d){a[d].$setValidity("mongoose",!1),b.errors[d]=c.message})})}}]),a}();angular.module("wellnessPlanApp").controller("SignupController",SignupController);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c,d){_classCallCheck(this,a),this.item={},this.errors={},this.submitted=!1,this.pageTitle="Addendums",this.Addendum=b,this.addendums=c,this.wellnessPoints={nutrition:!1,exercise:!1,hormones:!1,inflammation:!1,detoxification:!1}}return a.$inject=["Addendum","addendums","$sanitize"],_createClass(a,[{key:"createAddendum",value:function(a){var b=this;console.log("create"),a.$valid&&(this.item=new this.Addendum({title:this.newAddendum.title,description:this.newAddendum.description,nutrition:this.newAddendum.nutrition,exercise:this.newAddendum.exercise,hormones:this.newAddendum.hormones,inflammation:this.newAddendum.inflammation,detixification:this.newAddendum.detixification}),this.item.$save().then(function(a){b.addendums.push(a),b.resetForm()})["catch"](function(a){console.log(a)}))}},{key:"updateAddendum",value:function(a){var b=this;console.log(this.newAddendum.sections),a.$valid&&(this.newAddendum.sections=this.wellnessPoints,this.newAddendum.$update().then(function(a){b.addendums=b.Addendum.query(),b.resetForm()}))}},{key:"deleteItem",value:function(a){var b=this;a.$delete().then(function(a){b.addendums=b.Addendum.query()})}},{key:"resetForm",value:function(){this.submitted=!1,this.item={},this.editingItem=!1,this.newAddendum={},this.showForm=!1}}]),a}();angular.module("wellnessPlanApp").controller("AddendumsController",a)}(),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/addendums/:id",{id:"@_id"},{update:{method:"PUT"}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("Addendum",a)}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c,d){_classCallCheck(this,a),this.users=b.query(),d.pageTitle="User Management"}return a.$inject=["User","$state","$scope"],_createClass(a,[{key:"delete",value:function(a){a.$remove(),this.users.splice(this.users.indexOf(a),1)}}]),a}();angular.module("wellnessPlanApp.admin").controller("AdminController",a)}(),angular.module("wellnessPlanApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginController",controllerAs:"vm"}).state("logout",{url:"/logout?referrer",referrer:"login",template:"",controller:["$state","Auth",function(a,b){var c=a.params.referrer||a.current.referrer||"login";b.logout(),a.go(c)}]}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupController",controllerAs:"vm"}).state("profile",{url:"/profile",templateUrl:"app/account/profile/profile.html",controller:"ProfileController",controllerAs:"vm",resolve:{networks:["Network","$log",function(a,b){var c=a.query();return c.$promise.then(function(a){return a})["catch"](function(a){b.error("There was an error accessing your social networks.\n"+angular.toJson(a.data,!0)),$state.go("profile")})}],pharmacies:["Pharmacy","$log",function(a,b){var c=a.query();return c.$promise.then(function(a){return a})["catch"](function(a){b.error("There was an error accessing your pharmacies.\n"+angular.toJson(a.data,!0)),$state.go("profile")})}],stores:["Store","$log",function(a,b){var c=a.query();return c.$promise.then(function(a){return a})["catch"](function(a){b.error("There was an error accessing your supplement stores.\n"+angular.toJson(a.data,!0)),$state.go("profile")})}]},authenticate:!0})}]).run(["$rootScope",function(a){a.$on("$stateChangeStart",function(a,b,c,d){"logout"===b.name&&d&&d.name&&!d.authenticate&&(b.referrer=d.name)})}]),angular.module("wellnessPlanApp.admin").config(["$stateProvider",function(a){a.state("templates",{url:"/admin/templates",templateUrl:"app/admin/templates/templates.html",resolve:{templates:["Template",function(a){return a.query()}]},controller:"TemplatesController",controllerAs:"vm",authenticate:"admin"}).state("template",{url:"/admin/template/:id",templateUrl:"app/admin/templates/templates.detail.html",resolve:{template:["Template","$stateParams","$log","$state",function(a,b,c,d){var e=a.get({id:b.id});return e.$promise.then(function(a){return a})["catch"](function(a){c.error("There was an error accessing this template.\n"+angular.toJson(a.data,!0)),d.go("templates")})}]},controller:"TemplatesDetailController",controllerAs:"vm",authenticate:"admin"}).state("templateEditor",{url:"/admin/templateEditor",templateUrl:"app/admin/templates/templates.detail.html",resolve:{template:["Template","$stateParams","$log","$state",function(a,b,c,d){var e=a.latest();return e.$promise.then(function(a){return a[0]})["catch"](function(a){c.error("There was an error accessing the editor.\n"+angular.toJson(a.data,!0)),d.go("templates")})}]},controller:"TemplatesDetailController",controllerAs:"vm",authenticate:"admin"}).state("users",{url:"/admin/users",templateUrl:"app/admin/users/users.html",controller:"UsersController",controllerAs:"users",authenticate:"admin"}).state("nutraceuticals",{url:"/admin/nutraceuticals",templateUrl:"app/admin/nutraceuticals/nutraceuticals.html",controller:"NutraceuticalsController",controllerAs:"vm",authenticate:"admin"}).state("prescriptions",{url:"/admin/prescriptions",templateUrl:"app/admin/prescriptions/prescriptions.html",controller:"PrescriptionsController",controllerAs:"vm",authenticate:"admin"}).state("references",{url:"/admin/references",templateUrl:"app/admin/references/references.html",controller:"ReferencesController",controllerAs:"vm",authenticate:"admin"}).state("reports",{url:"/admin/reports",templateUrl:"app/admin/reports/reports.htm",controller:"ReportsController",controllerAs:"vm",authenticate:"admin"}).state("focusItems",{url:"/admin/focusItems",templateUrl:"app/admin/focusItems/focusItems.html",resolve:{focusItems:["FocusItem",function(a){return a.query()}]},controller:"FocusItemsController",controllerAs:"vm",authenticate:"admin"}).state("addendums",{url:"/admin/addendums",templateUrl:"app/admin/addendums/addendums.html",resolve:{addendums:["Addendum",function(a){return a.query()}]},controller:"AddendumsController",controllerAs:"vm",authenticate:"admin"})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c,d){_classCallCheck(this,a),this.item={},this.errors={},this.submitted=!1,this.pageTitle="Focus Items",this.FocusItem=b,this.focusItems=c,this.wellnessPoints={nutrition:!1,exercise:!1,hormones:!1,inflammation:!1,detoxification:!1}}return a.$inject=["FocusItem","focusItems","$sanitize"],_createClass(a,[{key:"createFocusItem",value:function(a){var b=this;console.log("create"),a.$valid&&(this.item=new this.FocusItem({title:this.newFocusItem.title,description:this.newFocusItem.description,nutrition:this.newFocusItem.nutrition,exercise:this.newFocusItem.exercise,hormones:this.newFocusItem.hormones,inflammation:this.newFocusItem.inflammation,detixification:this.newFocusItem.detixification}),this.item.$save().then(function(a){b.focusItems.push(a),b.resetForm()})["catch"](function(a){console.log(a)}))}},{key:"updateFocusItem",value:function(a){var b=this;console.log(this.newFocusItem.sections),a.$valid&&(this.newFocusItem.sections=this.wellnessPoints,this.newFocusItem.$update().then(function(a){b.focusItems=b.FocusItem.query(),b.resetForm()}))}},{key:"deleteItem",value:function(a){var b=this;a.$delete().then(function(a){b.focusItems=b.FocusItem.query()})}},{key:"resetForm",value:function(){this.submitted=!1,this.item={},this.editingItem=!1,this.newFocusItem={},this.showForm=!1}}]),a}();angular.module("wellnessPlanApp").controller("FocusItemsController",a)}(),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/focusItems/:id",{id:"@_id"},{update:{method:"PUT"}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("FocusItem",a)}(),function(){var a=function b(){_classCallCheck(this,b),this.pageTitle="Nutraceuticals"};angular.module("wellnessPlanApp").controller("NutraceuticalsController",a)}(),function(){var a=function b(){_classCallCheck(this,b),this.pageTitle="Prescriptions"};angular.module("wellnessPlanApp").controller("PrescriptionsController",a)}(),angular.module("wellnessPlanApp").controller("ReferencesCtrl",["$scope",function(a){a.message="Hello"}]),function(){function a(){this.pageTitle="Crap"}angular.module("wellnessPlanApp.admin").controller("ReportsController",a)}(),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/reports/:id",{id:"@_id"},{update:{method:"PUT"}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("Report",a)}(),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/templates/:template_id/sections/:id",{id:"@_id",template_id:"@template_id"},{update:{method:"PUT"}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("TemplateSection",a)}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c,d,e){_classCallCheck(this,a),this.$http=b,this.index=[],this.currentUser=c.getCurrentUser(),this.templates=d,this.Template=e,this.pageTitle="PDF Template"}return a.$inject=["$http","Auth","templates","Template"],_createClass(a,[{key:"addTemplate",value:function(){var a=this;if(this.newTemplateVersion){var b=new this.Template({version:this.newTemplateVersion,author:this.currentUser.name});b.$save().then(function(b){a.newTemplateVersion="",a.templates.push(b)})}}},{key:"deleteTemplate",value:function(a){var b=this;a.$delete().then(function(a){b.templates=b.Template.query()})}}]),a}();angular.module("wellnessPlanApp").controller("TemplatesController",a)}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c,d,e,f,g,h,i){_classCallCheck(this,a),this.$log=f,this.$http=b,this.$cookies=i,this.$state=g,this.$stateParams=c,this.TemplateSection=h,this.currentUser=d.getCurrentUser(),this.activate(e)}return a.$inject=["$http","$stateParams","Auth","template","$log","$state","TemplateSection","$cookies"],_createClass(a,[{key:"updateSection",value:function(){this.TemplateSection.update({id:this.currentSection._id,template_id:this.currentSection._template_id},this.currentSection),this.$cookies.put("current-ts",this.currentSection._id),this.$state.reload()}},{key:"activate",value:function(a){if(this.template=a,this.$cookies.get("current-ts"))for(var b in this.template.sections)this.template.sections[b]._id==this.$cookies.get("current-ts")&&(this.currentSection=this.template.sections[b]);else this.currentSection=this.template.sections[0];this.pageTitle="Template Editor"}}]),a}();angular.module("wellnessPlanApp").controller("TemplatesDetailController",a)}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),LoginController=function(){function a(b,c,d){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.Util=d,this.$state=c,this.Auth.isLoggedIn()&&this.$state.go("dashboard"),setInterval(function(){d.changeBackground()},5e3)}return a.$inject=["Auth","$state","Util"],_createClass(a,[{key:"login",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.login({email:this.user.email,password:this.user.password}).then(function(){b.$state.go("dashboard")})["catch"](function(a){b.errors.other=a.message})}}]),a}();angular.module("wellnessPlanApp").controller("LoginController",LoginController),function(){var a=function b(a,c,d){_classCallCheck(this,b),c.pageTitle="Users",this.index=d.query()};a.$inject=["$http","$scope","User"],angular.module("wellnessPlanApp").controller("UsersController",a)}(),function(a,b){a.module("wellnessPlanApp.constants",[]).constant("appConfig",{userRoles:["guest","user","admin"]})}(angular);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c,d,e,f,g,h,i){var j=this;_classCallCheck(this,a),this.$http=b,this.$state=c,this.Plan=g,this.Template=f,this.$uibModal=d,this.Modal=i,this.pageTitle="Dashboard",this.user=e.getCurrentUser(),this.newPlanModel={},this.plans=g.query(),this.deletePlan=i.confirm.deletePlan(function(a){a.$remove(),j.plans.splice(j.plans.indexOf(a),1)})}return a.$inject=["$http","$state","$uibModal","Auth","Template","Plan","PlanSection","Modal"],_createClass(a,[{key:"addPlan",value:function(a){var b=this;this.submitted=!0;var c=new this.Plan(this.newPlanModel);this.template_sections,this.$http;c._author_id=this.user._id,c.$save().then(function(a){b.$state.go("plan",{id:a._id},{reload:!0})})}}]),a}();angular.module("wellnessPlanApp").controller("MainController",a)}(),angular.module("wellnessPlanApp").config(["$stateProvider",function(a){a.state("dashboard",{authenticate:!0,url:"/dashboard",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm"}).state("about",{url:"/about",templateUrl:"app/main/about.html",controller:["$scope",function(a){a.pageTitle="About Seasons Wellness"}]}).state("tutorial",{url:"/tutorial",templateUrl:"app/main/tutorial.html",controller:["$scope",function(a){a.pageTitle="Tutorial"}]}).state("contact",{url:"/contact",templateUrl:"app/main/contact.html",controller:["$scope",function(a){a.pageTitle="Contact Us"}]})}]),angular.module("wellnessPlanApp").directive("planPreview",function(){return{restrict:"E",link:function(a,b){function c(){for(var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",b=$(".plan-page"),c=b.first(),d=0;d<b.length;d++)$(b[d]).children(".plan-page-number").html(d+1);$(c).addClass("animated fadeInDown").one(a,function(){$(c).css("opacity",1),$(c).removeClass("animated fadeInDown")})}function d(a,b,c){var e=a.children().last(),f=c.find(".plan-page-content").children().last(),g=c.find(".plan-page-body"),h=c.find(".plan-page").outerHeight(),i=g.outerHeight();e.prependTo(b),f.remove(),i>h&&d(a,b,c)}function e(a,b,c){var f=a.children(".plan-page:eq("+c+")"),g=f.clone(!0);b.append(g);var h=b.find(".plan-page:eq("+c+")"),i=f.find(".plan-page-content"),j=h.find(".plan-page-body"),k=h.outerHeight(),l=j.outerHeight();if(l>k){var m=a.after('<div class="section-wrapper ng-scope" ng-repeat="section in vm.templateSections | orderBy:\'order\'"/>'),n=$("<div class=\"plan-page ng-scope\" ng-if=\"section.title != 'Front' &amp;&amp; section.title != 'Compounding Pharmacy List' &amp;&amp; section.title != 'Supplement Store' &amp;&amp; section.title != 'Social Media' &amp;&amp; !section.has_extras\" style=\"opacity: 0; z-index: 0;\"/>").appendTo(m),o=$('<div class="plan-page-body"/>').appendTo(n),p=$('<div class="plan-page-content"/>').appendTo(o);d(i,p,b),c++,e(a,b,c)}}function f(a){if(!a[0])return!1;var b=$('<div id="tmp-wrapper"/>'),c=$('<div class="plan-wrapper tmp-wrapper" style="height:auto;"/>').appendTo(b);$("#plan-wrapper").after(b),e(a,c,0),c.remove()}b.addClass("row"),setTimeout(function(){$.each($("#plan-wrapper > .section-wrapper"),function(){f($(this));var a=$(this).children(".plan-page");$.each(a,function(){$(this).children(".plan-page-number")[0]||$(this).append('<div class="plan-page-number"></div>')})}),c()},500)}}}),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/plans/:plan_id/sections/:id",{id:"@_id",plan_id:"@_plan_id"},{update:{method:"PUT"},addFocusItem:{method:"POST",url:"/api/plans/:plan_id/sections/:id/focusItems/:focusItem_id"},removeFocusItem:{method:"DELETE",url:"/api/plans/:plan_id/sections/:id/focusItems/:focusItem_id"},addAddendum:{method:"POST",url:"/api/plans/:plan_id/sections/:id/addendums/:addendum_id"},removeAddendum:{method:"DELETE",url:"/api/plans/:plan_id/sections/:id/addendums/:addendum_id"}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("PlanSection",a)}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b,c,d,e,f,g,h,i,j,k){_classCallCheck(this,a),this.$state=b,this.$cookies=c,this.$http=i,this.user=d.getCurrentUser(),this.PlanSection=h,this.Plan=g,this.FocusItem=j,this.Addendum=k,this.pageTitle="Wellness Plan",this.previewPages,this.currentPreviewPage,this.planSections,this.planSection={html:""},this.focusItems,this.addendums,this.reports,this.templateSections=f.sections.filter(function(a){return a.is_active}),this.viewing=!1,this.itemSelected=!1,this.activate(e),this.page=1}return a.$inject=["$state","$cookies","Auth","plan","latestTemplate","Plan","PlanSection","$http","FocusItem","Addendum"],_createClass(a,[{key:"activate",value:function(a){this.plan=a,this.templateSection=this.templateSections[0];for(var b=0;b<this.templateSections.length;b++){var c=this.templateSections[b];c.planSection=this.plan.sections.filter(function(a){return a.title==c.title})[0],c.html=c.intro,c.planSection||(c.planSection={title:c.title,_plan_id:this.plan._id,addendums:[],reports:[],focusItems:[]}),c.planSection.intro=c.intro,c.planSection.is_editable=c.is_editable,c.planSection.has_extras=c.has_extras}(this.templateSection.has_extras&&!this.focusItems||this.templateSection.has_extras&&!this.addendums)&&this.getExtras(this.templateSection.title)}},{key:"addSection",value:function(a,b){var c=this,d=new this.PlanSection(a);d.$save({plan_id:this.plan._id}).then(function(a){c.plan.sections.push(a._id),c.plan.$update().then(function(a){b&&b(a)})})["catch"](function(a){console.log(a)})}},{key:"saveSection",value:function(a){var b=this;a._id?b.PlanSection.update({plan_id:b.plan._id,id:a._id},a,function(){console.log("updated"),b.plan=b.Plan.get({id:b.plan._id},function(a){b.activate(a)})}):b.addSection(a,function(){b.plan=b.Plan.get({id:b.plan._id},function(a){b.activate(a)})})}},{key:"setSection",value:function(a){var b=a.title;a.has_extras&&this.getExtras(b),this.templateSection=a,this.$cookies.put("ts-id",a._id)}},{key:"getExtras",value:function(a){var b=this,c={};this.selectedFocusItem=void 0,c[a.toLowerCase()]=!0,b.focusItems=b.FocusItem.query(c),b.addendums=b.Addendum.query(c)}},{key:"addFocusItem",value:function(a,b){var c=this;b._id?this.PlanSection.addFocusItem({plan_id:b._plan_id,id:b._id,focusItem_id:a._id},a,function(a){c.activate(a)}):(b.focusItems.push(a),this.addSection(b,function(a){}))}},{key:"removeFocusItem",value:function(a,b){var c=this;this.PlanSection.removeFocusItem({plan_id:b._plan_id,id:b._id,focusItem_id:a._id},function(a){c.activate(a)})}},{key:"addAddendum",value:function(a,b){var c=this;b._id?this.PlanSection.addAddendum({plan_id:b._plan_id,id:b._id,addendum_id:a._id},a,function(a){c.activate(a)}):(b.addendums.push(a),this.addSection(b,function(a){}))}},{key:"removeAddendum",value:function(a,b){var c=this;this.PlanSection.removeAddendum({plan_id:b._plan_id,id:b._id,addendum_id:a._id},function(a){c.activate(a)})}},{key:"sectionPreview",value:function(a){this.html="";var b=a.focusItems,c=a.addendums;if(a.intro&&(this.html+=a.intro),a.comments&&(this.html+=a.comments),b&&b.length>0)for(var d=0;d<b.length;d++)this.html+="<strong>"+b[d].title+"</strong>",this.html+=b[d].description;if(a.recommendations&&(this.html+='<h2 class="plan-page-sub-heading">Recommendations</h2>',this.html+=a.recommendations),a.nutraceuticals&&(this.html+='<h2 class="plan-page-sub-heading">Nutraceuticals</h2>',this.html+=a.nutraceuticals),a.prescriptions&&(this.html+='<h2 class="plan-page-sub-heading">Prescriptions</h2>',this.html+=a.prescriptions),a.references&&(this.html+='<h2 class="plan-page-sub-heading">References</h2>',this.html+=a.references),c&&c.length>0){this.html+='<h2 class="plan-page-sub-heading">Addendums</h2>';for(var d=0;d<c.length;d++)this.html+="<strong>"+c[d].title+"</strong>",this.html+=c[d].description}return this.html}},{key:"nextPage",value:function b(){if(this.pages=$(".plan-page").toArray(),this.page<$(this.pages).length){var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c=this.pages[this.page-1];$(c).addClass("animated fadeOutLeft").one(a,function(){$(c).css("opacity",0),$(c).removeClass("animated fadeOutLeft")}),this.page++;var b=this.pages[this.page-1];$(b).addClass("animated fadeInRight").one(a,function(){$(b).css("opacity",1),$(b).removeClass("animated fadeInRight")})}}},{key:"previousPage",value:function(){if(this.page>1){var a="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",b=this.pages[this.page-1];$(b).addClass("animated fadeOutRight").one(a,function(){$(b).css("opacity",0),$(b).css("z-index",0),$(b).removeClass("animated fadeOutRight")}),this.page--;var c=this.pages[this.page-1];$(c).addClass("animated fadeInLeft").one(a,function(){$(c).css("opacity",1),$(c).css("z-index",1),$(c).removeClass("animated fadeInLeft")})}}},{key:"printPlan",value:function(){this.viewing=!0,setTimeout(function(){window.print()},2e3)}}]),a}();angular.module("wellnessPlanApp").controller("PlansController",a)}(),angular.module("wellnessPlanApp").config(["$stateProvider",function(a){a.state("plan",{url:"/plans/:id",templateUrl:"app/plans/plan.html",resolve:{plan:["Plan","$stateParams","$log","$state",function(a,b,c,d){var e=a.get({id:b.id});return e.$promise.then(function(a){return a})["catch"](function(a){c.error("There was an error accessing this plan.\n"+angular.toJson(a.data,!0)),d.go("dashboard")})}],latestTemplate:["Template",function(a){var b=a.latest();return b.$promise.then(function(a){return a[0]})["catch"](function(a){$log.error("There was an error accessing the latest template.\n"+angular.toJson(error.data,!0)),$state.go("dashboard")})}]},controller:"PlansController",controllerAs:"vm"})}]),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/plans/:id",{id:"@_id"},{update:{method:"PUT"}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("Plan",a)}(),angular.module("wellnessPlanApp").directive("sectionEditor",function(){return{restrict:"E",templateUrl:"app/plans/sectionEditor.html",transclude:!0,scope:{section:"=section",vm:"=ctrl"}}}),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/networks/:id",{id:"@_id"},{update:{method:"PUT"}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("Network",a)}(),function(){function a(a,b,c,d,e,f,g,h){var i=f.safeCb,j={},k=e.userRoles||[];c.get("token")&&"/logout"!==a.path()&&(j=g.get());var l={login:function(a,e){return b.post("/auth/local",{email:a.email,password:a.password}).then(function(a){return c.put("token",a.data.token),j=g.get(),j.$promise}).then(function(a){return i(e)(null,a),a})["catch"](function(a){return l.logout(),i(e)(a.data),d.reject(a.data)})},logout:function(){c.remove("token"),j={}},createUser:function(a,b){return g.save(a,function(d){return c.put("token",d.token),j=g.get(),i(b)(null,a)},function(a){return l.logout(),i(b)(a)}).$promise},changePassword:function(a,b,c){return g.changePassword({id:j._id},{oldPassword:a,newPassword:b},function(){return i(c)(null)},function(a){return i(c)(a)}).$promise},updateInfo:function(a,b){return g.update({id:j._id},a,function(){return i(b)(null)},function(a){return i(b)(a)}).$promise},updateSection:function(a,b,c){return h.updateSection({id:a._id},{sections:b},function(){return i(c)(null)},function(a){return i(c)(a)}).$promise},getCurrentUser:function(a){if(0===arguments.length)return j;var b=j.hasOwnProperty("$promise")?j.$promise:j;return d.when(b).then(function(b){return i(a)(b),b},function(){return i(a)({}),{}});
},isLoggedIn:function(a){return 0===arguments.length?j.hasOwnProperty("role"):l.getCurrentUser(null).then(function(b){var c=b.hasOwnProperty("role");return i(a)(c),c})},hasRole:function m(a,b){var m=function(a,b){return k.indexOf(a)>=k.indexOf(b)};return arguments.length<2?m(j.role,a):l.getCurrentUser(null).then(function(c){var d=c.hasOwnProperty("role")?m(c.role,a):!1;return i(b)(d),d})},isAdmin:function(){return l.hasRole.apply(l,[].concat.apply(["admin"],arguments))},getToken:function(){return c.get("token")}};return l}a.$inject=["$location","$http","$cookies","$q","appConfig","Util","User","Template"],angular.module("wellnessPlanApp.auth").factory("Auth",a)}(),function(){function a(a,b,c,d,e){var f;return{request:function(a){return a.headers=a.headers||{},c.get("token")&&e.isSameOrigin(a.url)&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status&&((f||(f=d.get("$state"))).go("login"),c.remove("token")),b.reject(a)}}}a.$inject=["$rootScope","$q","$cookies","$injector","Util"],angular.module("wellnessPlanApp.auth").factory("authInterceptor",a)}(),function(){angular.module("wellnessPlanApp.auth").run(["$rootScope","$state","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){d.authenticate&&("string"==typeof d.authenticate?c.hasRole(d.authenticate,_.noop).then(function(d){return d?void 0:(a.preventDefault(),c.isLoggedIn(_.noop).then(function(a){b.go(a?"dashboard":"login")}))}):c.isLoggedIn(_.noop).then(function(c){c||(a.preventDefault(),b.go("login"))}))})}])}(),function(){function a(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},update:{method:"PUT",params:{id:"me"}},get:{method:"GET",params:{id:"me"}},addPharmacy:{method:"POST",url:"/api/users/:id/pharmacies",params:{id:"me"}},removePharmacy:{method:"DELETE",url:"/api/users/:id/pharmacies/:pharmacy_id",params:{id:"me"}},addNetwork:{method:"POST",url:"/api/users/:id/networks",params:{id:"me"}},removeNetwork:{method:"DELETE",url:"/api/users/:id/networks/:network_id",params:{id:"me"}},addStore:{method:"POST",url:"/api/users/:id/stores",params:{id:"me"}},removeStore:{method:"DELETE",url:"/api/users/:id/stores/:stores_id",params:{id:"me"}}})}a.$inject=["$resource"],angular.module("wellnessPlanApp.auth").factory("User",a)}(),angular.module("wellnessPlanApp").directive("footer",function(){return{templateUrl:"components/footer/footer.html",restrict:"E",link:function(a,b){b.addClass("footer"),$(".footer-logo").attr("src","assets/images/seasons-logo-green.6a703349.png"),$(".content").css("min-height",$(window).outerHeight()-230),$(window).resize(function(){$(".content").css("min-height",$(window).outerHeight()-230)})}}}),angular.module("wellnessPlanApp").factory("Modal",["$rootScope","$uibModal",function(a,b){function c(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=arguments.length<=1||void 0===arguments[1]?"modal-default":arguments[1],e=arguments.length<=2||void 0===arguments[2]?"components/modal/modal.html":arguments[2],f=a.$new();return angular.extend(f,c),b.open({templateUrl:e,windowClass:d,scope:f})}return{confirm:{"delete":function(){var a=arguments.length<=0||void 0===arguments[0]?angular.noop:arguments[0];return function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{strongConfirm:!0,dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+'</strong> ?</p><p style="color: #d9534f"><strong>WARNING</strong> This action cannot be undone!</p>',buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}},deletePlan:function(){var a=arguments.length<=0||void 0===arguments[0]?angular.noop:arguments[0];return function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{strongConfirm:!0,dismissable:!0,patientName:e,deleteButton:{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},cancelButton:{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}}},"modal-danger","components/modal/deletePlanModal.html"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("wellnessPlanApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}});var NavbarController=function a(b){_classCallCheck(this,a),this.menu=[{title:"Home",state:"dashboard"},{title:"About",state:"about"},{title:"Tutorial",state:"tutorial"},{title:"Contact",state:"contact"}],this.isCollapsed=!0,this.isLoggedIn=b.isLoggedIn,this.isAdmin=b.isAdmin,this.getCurrentUser=b.getCurrentUser};NavbarController.$inject=["Auth"],angular.module("wellnessPlanApp").controller("NavbarController",NavbarController),angular.module("wellnessPlanApp").directive("navbar",function(){return{templateUrl:"components/navbar/navbar.htm",restrict:"E",controller:"NavbarController",controllerAs:"nav"}}),function(){var a=function b(a){return _classCallCheck(this,b),this.$resource=a,a("/api/pharmacies/:id",{id:"@_id"},{update:{method:"PUT"}})};a.$inject=["$resource"],angular.module("wellnessPlanApp").service("Pharmacy",a)}(),function(){function a(a){var b={safeCb:function(a){return angular.isFunction(a)?a:angular.noop},urlParse:function(a){var b=document.createElement("a");return b.href=a,b},isSameOrigin:function(c,d){return c=b.urlParse(c),d=d&&[].concat(d)||[],d=d.map(b.urlParse),d.push(a.location),d=d.filter(function(a){return c.hostname===a.hostname&&c.port===a.port&&c.protocol===a.protocol}),d.length>=1},changeBackground:function(){var a=["url(../assets/images/seasons_backdrop_1.689a7e66.jpg)","url(../assets/images/seasons_backdrop_2.52e7b0fd.jpg)","url(../assets/images/seasons_backdrop_3.6fb56a65.jpg)"],b=$(".site-bg").css("background-image"),c=b.split("backdrop_")[1][0]-1;c<a.length-1?c++:c=0,$(".site-bg").css("background-image",a[c])}};return b}a.$inject=["$window"],angular.module("wellnessPlanApp.util").factory("Util",a)}(),angular.module("wellnessPlanApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<navbar></navbar><div class=login-body-wrapper><div class=container><div class="row content" style="background: transparent"><div class="login-container col-sm-12 col-sm-offset-0 col-md-6 col-md-offset-2 col-lg-4 col-lg-offset-4"><h2>Member Login</h2><form class=form name=form ng-submit=vm.login(form) novalidate><div class="form-group input-group margin-bottom-sm"><span class=input-group-addon><i class="fa fa-envelope-o fa-fw"></i></span> <input class=form-control name=email type=email placeholder=johndoe@wellness.com ng-model=vm.user.email required></div><div class="form-group input-group"><span class=input-group-addon><i class="fa fa-key fa-fw"></i></span> <input type=password id=password name=password class="form-control password" ng-model=vm.user.password required autofill=off></div><div style="text-align: right"><a class=forgot-pw-link href="">Forgot Password?</a></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && vm.submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && vm.submitted">Please enter a valid email.</p><p class=help-block>{{ vm.errors.other }}</p></div><div style="text-align: center"><button class="btn btn-lg btn-login btn-seasons" type=submit>Login</button></div></form></div></div></div></div>'),a.put("app/account/profile/profile.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{pageTitle}}</h1><p class=subheader>Please enter the required information below. Seasons Wellness is not responsible for errors made by the account holder.</p></div></div></div><div class=row style="margin-bottom: 25px"><div class=col-sm-12><form class=form name=infoForm ng-submit="vm.updateInfo( infoForm )" novalidate><div class=col-sm-3><img ng-hide=vm.user.cover_image_url src=http://www.placehold.it/250x323 alt="Upload your logo!" class=img-responsive style="margin: 0 auto"> <img ng-show=vm.user.cover_image_url ng-src="{{ vm.user.cover_image_url }}" alt="{{ vm.user.company }}" class=img-responsive style="margin: 0 auto"><div class=form-group><label for=cover_image_url>Plan Cover URL</label><input name=cover_image_url id=cover_image_url class=form-control ng-model=vm.user.cover_image_url></div></div><div class=col-sm-9><div class="col-sm-6 col-lg-4"><div class=form-group><label for=firstName>First Name</label><input name=firstName id=firstName class=form-control ng-model=vm.user.firstname required><p class=help-block ng-show="infoForm.firstName.$touched && infoForm.firstName.$invalid">First Name is required.</p></div></div><div class="col-sm-6 col-lg-4"><div class=form-group><label for=lastName>Last Name</label><input name=lastName id=lastName class=form-control ng-model=vm.user.lastname required><p class=help-block ng-show="infoForm.lastName.$touched && infoForm.lastName.$invalid">Last Name is required.</p></div></div><div class="col-sm-12 col-lg-4"><div class=form-group><label for=email>Email Address</label><input name=email id=email class=form-control ng-model=vm.user.email required><p class=help-block ng-show="infoForm.email.$touched && infoForm.email.$invalid">Email Address is required.</p></div></div><div class=col-sm-12><div class=form-group><label for=addr1>Address Line 1</label><input name=addr1 id=addr1 class=form-control ng-model="vm.user.address1"></div></div><div class=col-sm-12><div class=form-group><label for=addr2>Address Line 2</label><input name=addr2 id=addr2 class=form-control ng-model="vm.user.address2"></div></div><div class=col-sm-6><div class=form-group><label for=state>City</label><input name=city id=city class=form-control ng-model="vm.user.city"></div></div><div class=col-sm-3><div class=form-group><label for=state>State</label><input name=state id=state class=form-control ng-model="vm.user.state"></div></div><div class=col-sm-3><div class=form-group><label for=zip>Zip Code</label><input name=zip id=zip class=form-control ng-model="vm.user.zip"></div></div><div class=col-sm-6><div class=form-group><label for=phone>Phone</label><input name=phone id=phone class=form-control ng-model="vm.user.phone"></div></div><div class=col-sm-6><div class=form-group><label for=altPhone>Alternate Phone</label><input name=altPhone id=altPhone class=form-control ng-model="vm.user.alt_phone"></div></div><div class=col-sm-12><button class="btn btn-lg btn-primary pull-right" type=submit>Update</button></div></div></form></div><div class=col-sm-12><hr><h3>Pharmacy List</h3><div ng-show="vm.user.pharmacies.length < 1" class="panel panel-warning"><div class=panel-heading><h5>You have not added any pharmacies.</h5></div></div><form ng-submit=vm.addPharmacy(vm.newPharmacy) class=form><table class="table table-condensed table-hover table-bordered"><thead><tr><th>Name</th><th>Phone</th><th>Fax</th><th>Email</th><th>Contact</th><th></th></tr></thead><tbody><tr ng-repeat="pharmacy in vm.user.pharmacies"><td>{{pharmacy.name}}</td><td>{{pharmacy.phone}}</td><td>{{pharmacy.fax}}</td><td>{{pharmacy.email}}</td><td>{{pharmacy.contact}}</td><td><i class="fa fa-trash trash" ng-click="vm.removePharmacy( pharmacy )"></i></td></tr><tr><td><input name=pharmacy_name placeholder=Name ng-model=vm.newPharmacy.name class=form-control required></td><td><input name=pharmacy_phone placeholder=Phone ng-model=vm.newPharmacy.phone class=form-control></td><td><input name=pharmacy_fax placeholder=Fax ng-model=vm.newPharmacy.fax class=form-control></td><td><input name=pharmacy_email placeholder=Email ng-model=vm.newPharmacy.email class=form-control></td><td><input name=pharmacy_contact placeholder=Contact ng-model=vm.newPharmacy.contact class=form-control></td></tr></tbody></table><button class="btn btn-seasons pull-right" type=submit>Add Pharmacy</button></form></div><div class=col-sm-12><hr><h3>Supplement Store</h3><div ng-show="vm.user.stores.length < 1" class="panel panel-warning"><div class=panel-heading><h5>You have not added any supplement stores yet.</h5></div></div><form ng-submit=vm.addStore(vm.newStore) class=form><table class="table table-condensed table-hover table-bordered"><thead><tr><th>Name</th><th>URL</th></tr></thead><tbody><tr ng-repeat="store in vm.user.stores"><td>{{store.name}}</td><td>{{store.url}}</td><td><i class="fa fa-trash trash" ng-click="vm.removeStore( store )"></i></td></tr><tr><td><input name=store_name placeholder=Name ng-model=vm.newStore.name class=form-control required></td><td><input name=store_url placeholder=URL ng-model=vm.newStore.url class=form-control></td></tr></tbody></table></form><button class="btn btn-seasons pull-right" type=submit>Add Store</button></div><div class=col-sm-12><hr><h3>Social Networks</h3><div ng-show="vm.user.networks.length < 1" class="panel panel-warning"><div class=panel-heading><h5>You have not added any social networks.</h5></div></div><form ng-submit=vm.addNetwork(vm.newNetwork) class=form><table class="table table-condensed table-hover table-bordered"><thead><tr><th>Name</th><th>URL</th></tr></thead><tbody><tr ng-repeat="network in vm.user.networks"><td>{{ network.name }}</td><td>{{ network.url }}</td><td><i class="fa fa-trash trash" ng-click="vm.removeNetwork( network )"></i></td></tr><tr><td><input name=network_name placeholder=Name ng-model=vm.newNetwork.name class=form-control required></td><td><input name=network_url placeholder=URL ng-model=vm.newNetwork.url class=form-control></td></tr></tbody></table><button class="btn btn-seasons pull-right" type=submit>Add Network</button></form></div><div ng-if=true class=col-sm-12><h3>Update Password</h3><form class=form name=passwordForm ng-submit="vm.changePassword( passwordForm )" novalidate><div class=col-sm-4><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=vm.user.oldPassword mongoose-error required><p class=help-block ng-show=passwordForm.password.$error.mongoose>{{ vm.errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=vm.user.newPassword ng-minlength=3 required><p class=help-block ng-show="( passwordForm.newPassword.$error.minlength || passwordForm.newPassword.$error.required ) && (passwordForm.newPassword.$dirty || vm.submitted)">Password must be at least 3 characters.</p></div><div class=form-group><label>Confirm New Password</label><input type=password name=confirmPassword class=form-control ng-model=vm.user.confirmPassword match=passwordForm.newPassword ng-minlength=3 required><p class=help-block ng-show="passwordForm.confirmPassword.$error.match && vm.submitted">Passwords must match.</p></div><p class=help-block>{{ vm.message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></div></form></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/account/signup/signup.html",'<navbar></navbar><div class=container><div class=row><div class=col-sm-12><h1>Sign up</h1></div><div class=col-sm-12><form class=form name=form ng-submit=vm.register(form) novalidate><div class=form-group ng-class="{ \'has-success\': form.name.$valid && vm.submitted,\n                                            \'has-error\': form.name.$invalid && vm.submitted }"><label>Name</label><input name=name class=form-control ng-model=vm.user.name required><p class=help-block ng-show="form.name.$error.required && vm.submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && vm.submitted,\n                                            \'has-error\': form.email.$invalid && vm.submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=vm.user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && vm.submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && vm.submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ vm.errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && vm.submitted,\n                                            \'has-error\': form.password.$invalid && vm.submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=vm.user.password ng-minlength=3 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && vm.submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ vm.errors.password }}</p></div><div class=form-group ng-class="{ \'has-success\': form.confirmPassword.$valid && vm.submitted,\n                                            \'has-error\': form.confirmPassword.$invalid && vm.submitted }"><label>Confirm Password</label><input type=password name=confirmPassword class=form-control ng-model=vm.user.confirmPassword match=vm.user.password ng-minlength=3 required><p class=help-block ng-show="form.confirmPassword.$error.match && vm.submitted">Passwords must match.</p></div><div><button class="btn btn-inverse btn-lg btn-register" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-login" ui-sref=login>Login</a></div></form></div></div><hr></div>'),a.put("app/admin/addendums/addendums.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{vm.pageTitle}}</h1><span class=subheader>You can manage your addendums here.</span></div></div></div><div class=row><div class="col-sm-12 col-lg-6 col-lg-offset-3" ng-if=!vm.showForm><table class="table table-bordered table-striped table-condensed table-hover table-responsive"><thead><th>Title</th><th colspan=2>Options</th></thead><tbody><tr ng-repeat="addendum in vm.addendums"><td>{{addendum.title}}</td><td><i class="fa fa-edit" ng-click="vm.showForm = true; vm.newAddendum = addendum; vm.editingItem = true;"></i> Edit</td><td><i class="fa fa-trash trash" ng-click=vm.deleteAddendum(addendum)></i> Delete</td></tr></tbody></table><div class=col-sm-12><div class=row><button ng-if=!vm.showForm class="btn btn-seasons pull-right" ng-click="vm.showForm = true">Add New</button></div></div></div><div class=col-sm-12 ng-if=vm.showForm><div><p class=help-block>{{ vm.errors.other }}</p></div><form class=form name=form ng-submit="vm.editingItem ? vm.updateAddendum(form) : vm.createAddendum(form)" novalidate><div class="col-sm-8 col-md-6 col-lg-4"><div class=form-group ng-class="{ \'has-success\': form.title.$valid && vm.submitted,\n                                                \'has-error\': form.title.$invalid && vm.submitted }"><label>Title</label><input name=title class=form-control ng-model=vm.newAddendum.title required><p class=help-block ng-show="form.title.$error.required && vm.submitted">A title is required</p><p class=help-block ng-show=form.title.$error.mongoose>{{vm.errors.title}}</p></div></div><div class=col-sm-12><div class=form-group><label>Description</label><text-angular ng-model=vm.newAddendum.description></text-angular></div></div><div class=col-sm-12><div class=form-group ng-class="{ \'has-success\': form.section_names.$valid && vm.submitted,\n                                                \'has-error\': form.section_names.$invalid && vm.submitted }"><label>Add To</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newAddendum.nutrition"> Nutrition</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newAddendum.exercise"> Exercise</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newAddendum.hormones"> Hormones</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newAddendum.inflammation"> Inflammation</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newAddendum.detoxification"> Detoxification</label></div></div><div class=col-sm-12><div class=pull-right><button class="btn btn-seasons" style="margin-bottom: 30px" type=submit>{{ vm.editingItem ? \'Update\' : \'Create\' }}</button> <button class="btn btn-warning" style="margin-bottom: 30px" ng-click=vm.resetForm() onclick="return false">Go Back</button></div></div></form></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/admin/admin.html",'<navbar></navbar><div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class="list-group user-list"><li class=list-group-item ng-repeat="user in admin.users"><div class=user-info><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span></div><a ng-click=admin.delete(user) class=trash><span class="fa fa-trash fa-2x"></span></a></li></ul></div>'),a.put("app/admin/focusItems/focusItems.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{vm.pageTitle}}</h1><span class=subheader>You can manage your focus items here.</span></div></div></div><div class=row><div class="col-sm-12 col-lg-6 col-lg-offset-3" ng-if=!vm.showForm><table class="table table-bordered table-striped table-condensed table-hover table-responsive"><thead><th>Title</th><th colspan=2>Options</th></thead><tbody><tr ng-repeat="focusItem in vm.focusItems"><td>{{focusItem.title}}</td><td><i class="fa fa-edit" ng-click="vm.showForm = true; vm.newFocusItem = focusItem; vm.editingItem = true;"></i> Edit</td><td><i class="fa fa-trash trash" ng-click=vm.deleteItem(focusItem)></i> Delete</td></tr></tbody></table><div class=col-sm-12><div class=row><button ng-if=!vm.showForm class="btn btn-seasons pull-right" ng-click="vm.showForm = true">Add New</button></div></div></div><div class=col-sm-12 ng-if=vm.showForm><div><p class=help-block>{{ vm.errors.other }}</p></div><form class=form name=form ng-submit="vm.editingItem ? vm.updateFocusItem(form) : vm.createFocusItem(form)" novalidate><div class="col-sm-8 col-md-6 col-lg-4"><div class=form-group ng-class="{ \'has-success\': form.title.$valid && vm.submitted,\n\'has-error\': form.title.$invalid && vm.submitted }"><label>Title</label><input name=title class=form-control ng-model=vm.newFocusItem.title required><p class=help-block ng-show="form.title.$error.required && vm.submitted">A title is required</p><p class=help-block ng-show=form.title.$error.mongoose>{{vm.errors.title}}</p></div></div><div class=col-sm-12><div class=form-group><label>Description</label><text-angular ng-model=vm.newFocusItem.description></text-angular></div></div><div class=col-sm-12><div class=form-group ng-class="{ \'has-success\': form.section_names.$valid && vm.submitted,\n\'has-error\': form.section_names.$invalid && vm.submitted }"><label>Add To</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newFocusItem.nutrition"> Nutrition</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newFocusItem.exercise"> Exercise</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newFocusItem.hormones"> Hormones</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newFocusItem.inflammation"> Inflammation</label><label class=checkbox-inline><input type=checkbox ng-model="vm.newFocusItem.detoxification"> Detoxification</label></div></div><div class=col-sm-12><div class=pull-right><button class="btn btn-seasons" style="margin-bottom: 30px" type=submit>{{ vm.editingItem ? \'Update\' : \'Create\' }}</button> <button class="btn btn-warning" style="margin-bottom: 30px" ng-click=vm.resetForm() onclick="return false">Go Back</button></div></div></form></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/admin/nutraceuticals/nutraceuticals.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{vm.pageTitle}}</h1><span class=subheader>You can manage your nutraceuticals here.</span></div></div></div><div class=row><div class=col-sm-12><table class="table table-bordered table-striped table-condensed table-hover table-responsive"><thead><th>Name</th><th>Description</th><th>Info</th><th>Options</th></thead><tbody><tr ng-repeat="nutraceutical in vm.nutraceuticals"><td>{{nutraceutical.name}}</td><td>{{nutraceutical.description | limitTo: 20}}</td><td>{{nutraceutical.info}}</td><td><i class="fa fa-trash trash"></i> Delete</td></tr></tbody></table></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/admin/prescriptions/prescriptions.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{vm.pageTitle}}</h1><span class=subheader>You can manage your prescriptions here.</span></div></div></div><div class=row><div class=col-sm-12><table class="table table-bordered table-striped table-condensed table-hover table-responsive"><thead><th>Name</th><th>Description</th><th>Info</th><th>Options</th></thead><tbody><tr ng-repeat="nutraceutical in vm.nutraceuticals"><td>{{nutraceutical.name}}</td><td>{{nutraceutical.description | limitTo: 20}}</td><td>{{nutraceutical.info}}</td><td><i class="fa fa-trash trash"></i> Delete</td></tr></tbody></table></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/admin/references/references.html","<div>This is the references view.</div>"),a.put("app/admin/templates/templates.detail.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{vm.pageTitle}}</h1></div></div></div><div class=row id=template-edit-wrapper ng-model=vm.template><div class=sidebar><ul ui-sortable ng-model=vm.template.sections><li ng-repeat="section in vm.template.sections"><a href=# ng-class="{active : vm.currentSection === section}" ng-click="vm.currentSection = section">{{section.title}}</a></li></ul></div><div class=body><div class=section-body><div class=section-editor><form class="plan-form form-inline"><div class=col-sm-12><text-angular ng-model=vm.currentSection.intro></text-angular></div><div class=col-sm-12><div class=form-group><label for=sectionOrder>Order:</label><input class=form-control style="width: 60px" id=sectionOrder type=number ng-model=vm.currentSection.order></div><div class=form-group><label for=sectionHasExtras>Has Extras:</label><input class=form-control style="width: 40px" id=sectionHasExtras type=checkbox ng-model=vm.currentSection.has_extras></div><div class=form-group><label for=sectionIsEditable>Is Editable:</label><input class=form-control style="width: 40px" id=sectionIsEditable type=checkbox ng-model=vm.currentSection.is_editable></div><div class=form-group><label for=sectionIsActive>Is Active:</label><input class=form-control style="width: 40px" id=sectionIsActive type=checkbox ng-model=vm.currentSection.is_active></div><a href=# class="btn btn-success pull-right" ng-click=vm.updateSection()>Save Section</a></div></form></div></div></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/admin/templates/templates.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><button ng-show=template.version class="btn btn-info pull-right" ng-click=vm.viewAll()>View All</button><h1>{{pageTitle}}</h1><span class=subheader ng-show=template.version>v {{template.version | number:1}}</span></div></div></div><div class=row ng-show=template.version><div class=col-sm-12><pdf-template></pdf-template></div></div><div class=row ng-hide=template.version><div class=col-sm-12><table class="table table-bordered table-striped table-condensed table-hover table-responsive"><thead><th>Version</th><th>Author</th><th>Last Updated</th><th colspan=4>Options</th></thead><tbody><tr ng-repeat="template in vm.templates"><td><a ui-sref="template({id: template._id})">{{template.version | number: 1}}</a></td><td>{{template.author}}</td><td><span am-time-ago=template.updated_at></span></td><td><i class="fa fa-trash trash" ng-click=vm.deleteTemplate(template)></i> Delete</td></tr></tbody></table></div><div class=col-sm-12><form class=plan-form><p class=input-group><input class=form-control placeholder="New Version Number" ng-model=vm.newTemplateVersion> <span class=input-group-btn><button type=submit class="btn btn-primary" ng-click=vm.addTemplate()>Add New</button></span></p></form></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/admin/users/users.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{pageTitle}}</h1><span class=subheader>Easily manage created plans below with a click of the mouse.<span></span></span></div></div></div><div class=row><div class=col-sm-12><table class="table table-bordered table-striped table-condensed table-hover table-responsive"><thead><th>Practice</th><th>Contact</th><th>Email</th><th colspan=4>Options</th></thead><tbody><tr ng-repeat="user in users.index"><td>{{user.company}}</td><td>{{user.name}}</td><td><a href=mailto:{{user.email}}>{{user.email}}</a></td><td><i class="fa fa-pencil"></i> Edit Access</td><td><i class="fa fa-key"></i> Reset Password</td><td><i class="fa fa-trash trash"></i> Delete</td></tr></tbody></table></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/main/about.html",'<navbar></navbar><div class="content-wrapper about"><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{pageTitle}}</h1></div></div></div><div class=row><div class=col-md-8 style="padding: 0 50px"><p>Our goal at Seasons is to educate men and women of all ages as they transition through the different seasons of life. We offer patients a more natural and holistic approach to healthcare along with cutting edge advancements in traditional medicine. Our goal is to provide the best healthcare in a professional, comfortable, and courteous setting. At Seasons, we believe in a patient-healthcare partnership and we strive to keep you informed and educated on the issues that concern you.</p><p>Seasons of Farragut has redefined health care to be individualized and patient oriented. The typical 15 minute office visit has been replaced with up to 60 minutes of comprehensive care. Our desire is to know you and your concerns. We also offer GI testing for irritable bowel symptoms, vitamin absorption testing, and annual blood work including cholesterol, glucose, thyroid, etc. Lifestyle management including nutrition, weight loss, exercise, and stress reduction is offered as well.</p><p>Farragut is located in Knox and Loudon counties in eastern Tennessee. A suburb of Knoxville, the states third largest city, Farragut is included as a part of the Knoxville Metropolitan Area. The city is named in honor of the American Civil War Admiral David Farragut, who was born just east of Farragut at Campbells Station in 1801.</p><p>Mentioned as one of the 25 Best Affordable Places in the South by Business Week Farragut lies just west of Knoxville and is an upscale residential town that has no debt, no real estate taxes for homeowners, great Knox County and private schools, a public library, beautifully designed parks, great recreation opportunities and lovely residential subdivisions. Farragut is a great place to live, work and play!</p></div><div class=col-md-4 style="padding: 0 50px"><img src=/assets/images/seasons_about.867378e2.jpg alt="About Seasons Wellness" class="img-responsive about-us-image"> <span class=highlight-title>5 Points Of Wellness:</span><ul class=green-list><li>Nutrition</li><li>Exercise</li><li>Hormones</li><li>Inflammation</li><li>Detoxification</li></ul></div></div><div class=row><footer></footer></div></div></div>'),
a.put("app/main/contact.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{pageTitle}}</h1><span class=subheader>Have a question? We would like to hear from you. Please use the form below to inform us how we may provide assistance.</span></div></div></div><div class=row style="margin-bottom: 25px"><div class="col-sm-8 col-sm-offset-2"><div class=col-sm-6><form name=contactForm ng-submit=sendContactForm(contactForm)></form><div class=form-group><label for=name>Your Name</label><input class=form-control></div></div><div class=col-sm-6><div class=form-group><label for=company>Business Name</label><input class=form-control></div></div><div class=col-sm-6><div class=form-group><label for=phone>Phone Number</label><input class=form-control></div></div><div class=col-sm-6><div class=form-group><label for=email>Email</label><input class=form-control></div></div><div class=col-sm-12><div class=form-group><label for=comments>Comments</label><textarea class=form-control rows=4></textarea></div></div><div class=col-sm-12><div class=form-group><label for=message>How Can We Help You</label><textarea class=form-control rows=4></textarea></div></div><div class=col-sm-12><div class=col-sm-4>CAPCHA</div><div class="col-sm-4 col-sm-offset-4"><button type=submit class="btn btn-lg btn-success pull-right">Submit</button></div></div></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/main/main.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class="row page-title"><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><button ng-show=vm.plan.patient class="btn btn-info pull-right" ng-click=vm.viewAllPlans()>View All</button><h1>{{vm.pageTitle}}</h1><span class=subheader ng-show=vm.plan.patient>{{vm.plan.patient.name.first}} {{vm.plan.patient.name.last}}\'s Wellness Plan</span></div></div></div><!-- .page-title --><div class="row patient-info" ng-show=vm.plan.patient><div class=col-md-4><h3>Patient Info</h3><span class=patient-info>Name: {{vm.plan.patient.name.first}} {{vm.plan.patient.name.last}}</span><br><span class=patient-info>Date Of Birth: {{vm.plan.patient.dob}}</span><hr></div><div class="col-md-4 col-md-offset-4"><button class="btn btn-success" ng-show=!vm.viewing ng-click="vm.viewing=true">View Plan</button> <button class="btn btn-warning" ng-show=vm.viewing ng-click="vm.viewing=false">Edit Plan</button> <button class="btn btn-warning" ng-show=vm.viewing ng-click=vm.exportPlan(plan)>Export Plan</button></div></div><!-- End Patient Info --><div id=plans-table class=row ng-hide=vm.plan.patient><div class=col-sm-12 ng-show="vm.plans.length > 0"><table class="table table-bordered table-striped table-condensed table-hover table-responsive"><thead><th>Patient Name</th><th>Date Of Birth</th><th>Created</th><th></th></thead><tbody><tr ng-repeat="plan in vm.plans"><td><a ui-sref="plan({id: plan._id})">{{plan.patient.name.last}}, {{plan.patient.name.first}}</a></td><td>{{plan.patient.dob}}</td><td>{{plan.createdAt | date}}</td><td style="text-align: center"><i class="fa fa-trash trash" ng-click="vm.deletePlan(plan.patientName, plan)"></i></td></tr></tbody></table></div><div class=col-sm-12 ng-hide="vm.plans.length > 0"><h5 style="text-align: center">You have not created any plans.</h5><h5 style="text-align: center">Enter a patient\'s details below to create your first plan!</h5></div></div><!-- End Plans Table --><div id=new-plan-form class=row><div class="col-sm-12 col-md-6"><div class=row><form class=plan-form name=planForm ng-submit=vm.addPlan(planForm) novalidate><div class="form-group col-sm-4" ng-class="planForm.firstname.$error.required && vm.submitted ? \'has-error\' : \'\'"><input class=form-control name=firstname placeholder="First Name" ng-model=vm.newPlanModel.patient.name.first required></div><div class="form-group col-sm-4" ng-class="planForm.lastname.$error.required && vm.submitted ? \'has-error\' : \'\'"><input class=form-control name=lastname placeholder="Last Name" ng-model=vm.newPlanModel.patient.name.last required></div><div class="form-group col-sm-4" ng-class="planForm.dob.$error.required && vm.submitted ? \'has-error\' : \'\'" required><input class=form-control name=dob placeholder=DOB ng-model=vm.newPlanModel.patient.dob required></div><div class="form-group col-sm-12"><textarea class=form-control placeholder=Notes ng-model=vm.newPlanModel.notes></textarea></div><div class="form-group has-error"><div class=col-sm-12><p class=help-block ng-show="planForm.firstname.$error.required && vm.submitted">Please enter a first name</p><p class=help-block ng-show="planForm.lastname.$error.required && vm.submitted">Please enter a last name</p><p class=help-block ng-show="planForm.dob.$error.required && vm.submitted">Please enter a date of birth</p><p class=help-block>{{ vm.errors.other }}</p></div></div><div class=col-sm-12><button type=submit class="btn btn-primary">Add New</button></div></form></div></div></div><!-- End New Plan Form --><div class="row footer-wrapper"><footer></footer></div></div></div>'),a.put("app/main/tutorial.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class=row><div class=col-sm-12 style="padding: 0 50px"><div class=page-header><h1>{{pageTitle}}</h1></div></div></div><div class=row><div class=col-sm-12><h2>Coming Soon</h2></div></div><div class=row><footer></footer></div></div></div>'),a.put("app/plans/plan.html",'<navbar></navbar><div class="content-wrapper wellness-plan"><div class="container content"><div class="row page-title page-header"><div class=col-lg-8 style="padding: 0 50px"><h1>{{ vm.pageTitle }}</h1><span class=subheader ng-show=vm.plan.patient>Wellness Plan for: {{ vm.plan.patient.name.first }} {{ vm.plan.patient.name.last }}</span> | <span class=patient-info>DOB: {{ vm.plan.patient.dob }}</span></div><div class=col-lg-4 style="text-align: right"><button class="btn btn-lg btn-seasons" ng-show=vm.viewing ng-click="vm.viewing=false">Back To Editor</button> <button class="btn btn-lg btn-seasons" ng-show=vm.viewing ng-click=vm.printPlan()>Print</button> <button class="btn btn-lg btn-seasons" ng-show=!vm.viewing ng-click="vm.viewing=true">Preview</button></div></div><!-- .page-title --><div class="row plan-wrapper" id=plan-wrapper style="margin-top: 20px" ng-show=vm.viewing><div class=controls style="margin: 0 auto 30px auto; text-align: center"><a href="" ng-click=vm.previousPage()><i class="fa fa-chevron-left fa-2x"></i></a> &nbsp;&nbsp;&nbsp; <a href="" ng-click=vm.nextPage()><i class="fa fa-chevron-right fa-2x"></i></a></div><div class=section-wrapper ng-repeat="section in vm.templateSections | orderBy:\'order\'"><!-- COVER PAGE --><div class="plan-page cover-page" ng-attr-style="{{\'background-image: url(\' + vm.user.cover_image_url + \')!important; background-size: cover !important; background-repeat: no-repeat !important;\'}}" ng-if="section.title==\'Front\'"><div class=plan-page-body><div class=plan-page-content></div></div></div><!-- WELLNESS POINTS --><div class=plan-page ng-if=section.has_extras><div class=plan-page-body><h2 class=plan-page-title>{{ section.title }}</h2><div class=plan-page-content ng-bind-html="vm.sectionPreview( section.planSection )"></div></div></div><!-- PHARMACIES --><div class=plan-page ng-if="section.title == \'Compounding Pharmacy List\'"><div class=plan-page-body><h2 class=plan-page-title ng-bind-html=section.title></h2><div class=plan-page-content><table class="table table-condensed table-bordered table-responsive"><thead><tr><th>Name</th><th>Phone</th><th>Fax</th><th>Email</th><th>Contact</th></tr></thead><tbody><tr ng-repeat="pharmacy in vm.user.pharmacies"><td>{{pharmacy.name}}</td><td>{{pharmacy.phone}}</td><td>{{pharmacy.fax}}</td><td>{{pharmacy.email}}</td><td>{{pharmacy.contact}}</td></tr></tbody></table></div></div></div><!-- SUPPLEMENT STORES --><div class=plan-page ng-if="section.title == \'Supplement Store\'"><div class=plan-page-body><h2 class=plan-page-title ng-bind-html=section.title></h2><div class=plan-page-content><table class="table table-condensed table-bordered table-responsive"><thead><tr><th>Name</th><th>URL</th></tr></thead><tbody><tr ng-repeat="store in vm.user.stores"><td>{{store.name}}</td><td>{{store.url}}</td></tr></tbody></table></div></div></div><!-- SOCIAL MEDIA --><div class=plan-page ng-if="section.title == \'Social Media\'"><div class=plan-page-body><h2 class=plan-page-title ng-bind-html=section.title></h2><div class=plan-page-content><table class="table table-condensed table-bordered table-responsive"><thead><tr><th>Name</th><th>URL</th></tr></thead><tbody><tr ng-repeat="network in vm.user.networks"><td>{{network.name}}</td><td>{{network.url}}</td></tr></tbody></table></div></div></div><!-- REST OF PAGES --><div class=plan-page ng-if="section.title != \'Front\' && section.title != \'Compounding Pharmacy List\' && section.title != \'Supplement Store\' && section.title != \'Social Media\' && !section.has_extras"><div class=plan-page-body><h2 class=plan-page-title ng-bind-html=section.title></h2><div class=plan-page-content ng-if=section.planSection.html ng-bind-html=section.planSection.html></div><div class="plan-page-content stuff" ng-if=!section.planSection.html ng-bind-html=section.html></div></div></div></div></div><!-- End Plan View Wrapper --><plan-preview ng-show=vm.viewing></plan-preview><div class=row id=plan-edit-wrapper ng-show="vm.plan.patient && !vm.viewing"><div class=sidebar><ul><li ng-repeat="section in vm.templateSections | orderBy:\'order\'"><a href=# ng-class="{active : vm.templateSection === section}" ng-click=vm.setSection(section)>{{section.title}}</a></li></ul></div><div class=body><section-editor ng-show=vm.templateSection data-section=vm.templateSection.planSection data-ctrl=vm></section-editor><div class=container-fluid><div class="panel panel-seasons" ng-show="!vm.templateSection.is_editable && !vm.templateSection.has_extras && vm.templateSection.title != \'Compounding Pharmacy List\' && vm.templateSection.title != \'Supplement Store\' && vm.templateSection.title != \'Social Media\' && vm.templateSection.html != \'\' && vm.templateSection.title != \'Front\' "><div class=panel-heading>This Section Is Not Editable</div><div class=panel-body ng-bind-html=vm.templateSection.html></div></div><div class="col-lg-8 col-lg-offset-2" ng-if="vm.templateSection.title == \'Front\'"><img ng-src={{vm.user.cover_image_url}} class=img-responsive alt="Plan Cover"></div><div ng-show="vm.templateSection.title == \'Compounding Pharmacy List\'" class=panel ng-class="vm.user.pharmacies.length > 0 ? \'panel-seasons\' : \'panel-warning\'"><div class=panel-heading ng-show="vm.user.pharmacies.length < 1">Uh Oh!</div><div class=panel-body ng-show="vm.user.pharmacies.length < 1">You have not added any items for section yet. Please visit the <a ui-sref=profile>My Profile</a> page to add these items.</div><div class=panel-heading>Your Compounding Pharmacy List</div><div class=panel-body ng-show="vm.user.pharmacies.length > 0"><table class="table table-bordered table-hover table-responsive table-condensed"><thead><tr><th>Name</th><th>Phone</th><th>Fax</th><th>Email</th><th>Contact</th></tr></thead><tbody><tr ng-repeat="pharmacy in vm.user.pharmacies"><td>{{pharmacy.name}}</td><td>{{pharmacy.phone}}</td><td>{{pharmacy.fax}}</td><td>{{pharmacy.email}}</td><td>{{pharmacy.contact}}</td></tr></tbody></table></div></div><div ng-show="vm.templateSection.title == \'Supplement Store\'" class=panel ng-class="vm.user.stores.length > 0 ? \'panel-seasons\' : \'panel-warning\'"><div class=panel-heading ng-show="vm.user.stores.length < 1">Uh Oh!</div><div class=panel-body ng-show="vm.user.stores.length < 1">You have not added any items for section yet. Please visit the <a ui-sref=profile>My Profile</a> page to add these items.</div><div class=panel-heading ng-show="vm.user.stores.length > 0">Supplement Stores</div><div class=panel-body ng-show="vm.user.stores.length > 0"><table class="table table-bordered table-hover table-responsive table-condensed"><thead><tr><th>Name</th><th>URL</th></tr></thead><tbody><tr ng-repeat="store in vm.user.stores"><td>{{store.name}}</td><td>{{store.url}}</td></tr></tbody></table></div></div><div ng-show="vm.templateSection.title == \'Social Media\'" class=panel ng-class="vm.user.networks.length > 0 ? \'panel-seasons\' : \'panel-warning\'"><div class=panel-heading ng-show="vm.user.networks.length < 1">Uh Oh!</div><div class=panel-body ng-show="vm.user.networks.length < 1">You have not added any items for section yet. Please visit the <a ui-sref=profile>My Profile</a> page to add these items.</div><div class=panel-heading ng-show="vm.user.networks.length > 0">Social Media</div><div class=panel-body ng-show="vm.user.networks.length > 0"><table class="table table-bordered table-hover table-responsive table-condensed"><thead><tr><th>Name</th><th>URL</th></tr></thead><tbody><tr ng-repeat="network in vm.user.networks"><td>{{network.name}}</td><td>{{network.url}}</td></tr></tbody></table></div></div></div><div class=clearfix></div><div class=row><!-- <button class="btn-warning" style="margin-top: 10px;" ng-click="vm.logSection(section)">debug</button> --></div><div class=hidden style="padding: 20px; background: #eaeaea; border: 1px solid #aaa; border-radius: 4px; margin-top: 20px"><h4>Plan</h4><p>{{vm.plan.sections}}</p><hr><h4>Items</h4><p>{{vm.templateSection.planSection.focusItems | json}}</p></div></div></div><!-- End Plan Edit Wrapper --><div class="row footer-wrapper"><footer></footer></div></div></div>'),a.put("app/plans/plans.html",'<navbar></navbar><div class=content-wrapper><div class="container content"><div class="row page-title"><!--\n      This page is not used at this time.\n      It would serve as the list of plans for a user,\n      but we do that already on the dashboard.\n      --></div><!-- .page-title --><div class="row patient-info" ng-show=vm.plan.patient><!-- there\'s no patient info on this page! --></div><!-- End Patient Info --><div id=plans-table class=row ng-hide=vm.plan.patient><div class=col-sm-12 ng-show="vm.myPlans.length > 0"><table class="table table-bordered table-striped table-condensed table-hover table-responsive"><thead><th>Patient Name</th><th>Date Of Birth</th><th>Created</th><th colspan=3>Options</th></thead><tbody><tr ng-repeat="plan in vm.myPlans"><td><a href=# ng-click=vm.editPlan(plan)>{{plan.patient.name.last}}, {{plan.patient.name.first}}</a></td><td>{{plan.patient.dob}}</td><td><span am-time-ago=plan.created_at></span></td><td style="text-align: center"><i class="fa fa-trash trash" ng-click=vm.deletePlan(plan)></i></td></tr></tbody></table></div><div class=col-sm-12 ng-hide="vm.myPlans.length > 0"><h5 style="text-align: center">You have not created any plans.</h5><h5 style="text-align: center">Enter a patient\'s details below to create your first plan!</h5></div></div><!-- End Plans Table --><div id=new-plan-form class=row ng-hide=vm.plan.patient><div class="col-sm-12 col-md-6"><div class=row><form class=plan-form name=planForm ng-submit=vm.addPlan(planForm) novalidate><div class="form-group col-sm-4" ng-class="planForm.firstname.$error.required && vm.submitted ? \'has-error\' : \'\'"><input class=form-control name=firstname placeholder="First Name" ng-model=vm.newPlan.firstname required></div><div class="form-group col-sm-4" ng-class="planForm.lastname.$error.required && vm.submitted ? \'has-error\' : \'\'"><input class=form-control name=lastname placeholder="Last Name" ng-model=vm.newPlan.lastname required></div><div class="form-group col-sm-4" ng-class="planForm.dob.$error.required && vm.submitted ? \'has-error\' : \'\'" required><input class=form-control name=dob placeholder=DOB ng-model=vm.newPlan.dob required></div><div class="form-group col-sm-12"><textarea class=form-control placeholder=Notes ng-model=vm.newPlan.notes></textarea></div><div class="form-group has-error"><div class=col-sm-12><p class=help-block ng-show="planForm.firstname.$error.required && vm.submitted">Please enter a first name</p><p class=help-block ng-show="planForm.lastname.$error.required && vm.submitted">Please enter a last name</p><p class=help-block ng-show="planForm.dob.$error.required && vm.submitted">Please enter a date of birth</p><p class=help-block>{{ vm.errors.other }}</p></div></div><div class=col-sm-12><button type=submit class="btn btn-primary">Add New</button></div></form></div></div></div><!-- End New Plan Form --><div class="row footer-wrapper"><footer></footer></div></div></div>'),a.put("app/plans/sectionEditor.html",'<script type=text/ng-template id=focusItemTypeaheadTemplate.html><a>\n		<span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>\n	</a></script><!-- User Input --><uib-tabset><!-- Comments  --><uib-tab heading=Comments active=true disable=false ng-if=section.is_editable><form class=plan-form><text-angular ng-model=section.comments></text-angular><button class="btn btn-seasons" ng-click=vm.saveSection(section)>Save</button></form></uib-tab><!-- Focus Items --><uib-tab heading="Focus Items" active=false disable=false ng-if=section.has_extras><div class=col-lg-6><div class="panel panel-seasons"><div class=panel-heading>Available Focus Items</div><div class=panel-body><input style="margin-top: 10px" ng-model=vm.selectedFocusItem placeholder="Start typing here to search" uib-typeahead="option as option.title for option in vm.focusItems | filter:{title: $viewValue} | limitTo:5" typeahead-template-url=focusItemTypeaheadTemplate.html class="form-control focus-items-search"><h4 ng-hide="vm.focusItems.length > 0">You have not added any focus items yet.</h4><div ng-show="vm.focusItems.length > 0" class=focus-items-wrapper><table class="focus-items-table table table-bordered table-condensed table-hover"><tr class="focus-item available-focus-item" ng-repeat="item in vm.focusItems"><!-- <td><a href="#" ng-click="vm.addFocusItem(item, section)">{{item.title}}</a></td> --><td><a href=# ng-click="vm.selectedFocusItem = item">{{item.title}}</a></td></tr></table></div></div></div></div><div class=col-lg-6><div class="panel panel-seasons"><div class=panel-heading>Current Focus Items</div><div class=panel-body><h4 ng-hide="section.focusItems.length > 0">You have not added any focus items yet.</h4><div ng-show="section.focusItems.length > 0"><table class="focus-items-table table table-bordered table-condensed table-hover"><tr class="focus-item available-focus-item" ng-repeat="item in section.focusItems"><td><a href=# ng-click="vm.removeFocusItem(item, section)">{{item.title}}</a></td></tr></table></div></div></div></div><div class=col-sm-12 ng-if=vm.selectedFocusItem.title><div class=well style="margin-top: 40px" ng-bind-html=vm.selectedFocusItem.description></div></div><div class="col-sm-12 col-lg-6 col-lg-offset-6"><button ng-if=vm.selectedFocusItem.title class="btn btn-seasons pull-right" ng-click="vm.addFocusItem(vm.selectedFocusItem,section); vm.selectedFocusItem={title: \'\'}">Add To Section</button></div></uib-tab><!-- Recommendations --><uib-tab heading=Recommendations active=false disable=false ng-if=section.has_extras><form class=plan-form><text-angular ng-model=section.recommendations required></text-angular><button class="btn btn-seasons" ng-click=vm.saveSection(section)>Save</button></form></uib-tab><!-- Nutraceuticals --><uib-tab heading=Nutraceuticals active=false disable=false ng-if=section.has_extras><form class=plan-form><text-angular ng-model=section.nutraceuticals required></text-angular><button class="btn btn-seasons" ng-click=vm.saveSection(section)>Save</button></form></uib-tab><!-- Prescriptions --><uib-tab heading=Prescriptions active=false disable=false ng-if=section.has_extras><form class=plan-form><text-angular ng-model=section.prescriptions required></text-angular><button class="btn btn-seasons" ng-click=vm.saveSection(section)>Save</button></form></uib-tab><!-- Addendums --><uib-tab heading=Addendums active=false disable=false ng-if=section.has_extras><div class=col-lg-6><div class="panel panel-seasons"><div class=panel-heading>Available Addendums</div><div class=panel-body><input style="margin-top: 10px" ng-model=vm.selectedAddendum placeholder="Start typing here to search" uib-typeahead="option as option.title for option in vm.addendums | filter:{title: $viewValue} | limitTo:5" typeahead-template-url=focusItemTypeaheadTemplate.html class="form-control focus-items-search"><h4 ng-hide="vm.addendums.length > 0">You have not added any addendums yet.</h4><div ng-show="vm.addendums.length > 0" class=focus-items-wrapper><table class="focus-items-table table table-bordered table-condensed table-hover"><tr class="focus-item available-focus-item" ng-repeat="item in vm.addendums"><td><a href=# ng-click="vm.selectedAddendum = item">{{item.title}}</a></td></tr></table></div></div></div></div><div class=col-lg-6><div class="panel panel-seasons"><div class=panel-heading>Current Addendums</div><div class=panel-body><h4 ng-hide="section.addendums.length > 0">You have not added any addendums yet.</h4><div ng-show="section.addendums.length > 0"><table class="focus-items-table table table-bordered table-condensed table-hover"><tr class="focus-item available-focus-item" ng-repeat="item in section.addendums"><td><a href=# ng-click="vm.removeAddendum(item, section)">{{item.title}}</a></td></tr></table></div></div></div></div><div class=col-sm-12 ng-if=vm.selectedAddendum.title><div class=well style="margin-top: 40px" ng-bind-html=vm.selectedAddendum.description></div></div><div class="col-sm-12 col-lg-6 col-lg-offset-6"><button ng-if=vm.selectedAddendum.title class="btn btn-seasons pull-right" ng-click="vm.addAddendum(vm.selectedAddendum,section); vm.selectedAddendum={title: \'\'}">Add To Section</button></div></uib-tab><!-- References --><uib-tab heading=References active=false disable=false ng-if=section.has_extras><form class=plan-form><text-angular ng-model=section.references required></text-angular><button class="btn btn-seasons" ng-click=vm.saveSection(section)>Save</button></form></uib-tab></uib-tabset>'),a.put("components/footer/footer.html",'<div class=container><div class=row><div class=col-sm-12><img alt="Seasons Wellness" class=footer-logo></div></div><div class=row><div class="col-sm-12 footer-nav"><a href=# ui-sref=login>Home</a> <a href=# ui-sref=about>About</a> <a href=# ui-sref=dashboard>Plans</a> <a href=# ui-sref=profile>My Account</a> <a href=# ui-sref=tutorial>Tutorial</a> <a href=# ui-sref=contact>Contact</a> <a href=# ui-sref=login>Sitemap</a> <a href=# ui-sref=login>Privacy Policy</a></div></div><p class=copyright>&copy; <a target=_blank href="http://www.seasonswellness.com/">Seasons</a> 2016. All Rights Reserved.</p></div>'),a.put("components/modal/deletePlanModal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 class=modal-title>YOU ABOUT TO PERMANENTLY DELETE THIS PLAN</h4></div><div class=modal-body><p>Are you sure you want to delete <strong ng-bind-html=modal.patientName></strong>\'s plan?</p><hr><div ng-if=modal.html ng-bind-html=modal.html></div><div class=row><div class="col-lg-10 col-lg-offset-1"><form ng-model=form><div class=form-group><p><strong>To proceed, you must enter the patient\'s <u>FULL</u> name.</strong></p><input class=form-control name=confirmName ng-model=modal.confirmName></div></form><p ng-if=modal.confirmName style="color: #d9534f; text-align: center"><strong>WARNING</strong><br>This action cannot be undone!</p></div></div></div><div class=modal-footer><button ng-class=modal.deleteButton.classes ng-click=modal.deleteButton.click($event) ng-bind=modal.deleteButton.text class=btn ng-disabled="modal.confirmName != modal.patientName"></button> <button ng-class=modal.cancelButton.classes ng-click=modal.cancelButton.click($event) ng-bind=modal.cancelButton.text class=btn></button></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>')}]);