{"version":3,"sources":["../../../../server/api/addendum/addendum.model.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;AAEb,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;;AAErE,IAAI,cAAc,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC;AACvC,OAAK,EAAE,MAAM;AACb,aAAW,EAAE,MAAM;AACnB,OAAK,EAAE,MAAM;AACb,WAAS,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,WAAS,KAAK,EAAC;AAC3C,UAAQ,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,WAAS,KAAK,EAAC;AAC1C,UAAQ,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,WAAS,KAAK,EAAC;AAC1C,cAAY,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,WAAS,KAAK,EAAC;AAC9C,gBAAc,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,WAAS,KAAK,EAAC;CACjD,CAAC,CAAC;;;AAIH,cAAc,CACX,IAAI,CAAC,OAAO,CAAC,CACb,QAAQ,CAAC,UAAS,KAAK,EAAE,OAAO,EAAE;AACjC,MAAI,IAAI,GAAG,IAAI,CAAC;AAChB,SAAO,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CACnD,IAAI,CAAC,UAAS,IAAI,EAAE;AACnB,QAAI,IAAI,EAAE;AACR,UAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,EAAE,EAAE;AACvB,eAAO,OAAO,CAAC,IAAI,CAAC,CAAC;OACtB;AACD,aAAO,OAAO,CAAC,KAAK,CAAC,CAAC;KACvB;AACD,WAAO,OAAO,CAAC,IAAI,CAAC,CAAC;GACtB,CAAC,SACI,CAAC,UAAS,GAAG,EAAE;AACnB,UAAM,GAAG,CAAC;GACX,CAAC,CAAC;CACN,EAAE,uDAAuD,CAAC,CAAC;qBAC/C,QAAQ,CAAC,KAAK,CAAC,UAAU,EAAE,cAAc,CAAC","file":"addendum.model.js","sourcesContent":["'use strict';\n\nvar mongoose = require('bluebird').promisifyAll(require('mongoose'));\n\nvar AddendumSchema = new mongoose.Schema({\n  title: String,\n  description: String,\n  notes: String,\n  nutrition: { type: Boolean, default: false},\n  exercise: { type: Boolean, default: false},\n  hormones: { type: Boolean, default: false},\n  inflammation: { type: Boolean, default: false},\n  detoxification: { type: Boolean, default: false}\n});\n\n\n// No Duplicate Items\nAddendumSchema\n  .path('title')\n  .validate(function(value, respond) {\n    var self = this;\n    return this.constructor.findOneAsync({ title: value })\n      .then(function(item) {\n        if (item) {\n          if (self.id === item.id) {\n            return respond(true);\n          }\n          return respond(false);\n        }\n        return respond(true);\n      })\n      .catch(function(err) {\n        throw err;\n      });\n  }, 'An addendum with this title has already been created.');\nexport default mongoose.model('Addendum', AddendumSchema);\n"]}